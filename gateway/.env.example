# ============================================
# AI HYBRID GATEWAY - ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your actual values

# --------------------------------------------
# SERVER CONFIGURATION
# --------------------------------------------
# Port for the gateway server to listen on
PORT=8080

# --------------------------------------------
# DATABASE CONFIGURATION
# --------------------------------------------
# MongoDB connection string (cloud MongoDB Atlas or other hosted MongoDB)
# Example: mongodb+srv://username:password@cluster.mongodb.net/ai_hybrid?retryWrites=true&w=majority
# TODO: Add your MongoDB cloud connection URL here
MONGODB_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/ai_hybrid?retryWrites=true&w=majority

# --------------------------------------------
# GEMINI API KEYS
# --------------------------------------------
# Get your Gemini API keys from: https://aistudio.google.com/app/apikey
# You need TWO keys for the tiered pricing model:

# CHEAP tier API key (for cost-effective requests)
# TODO: Add your Gemini API key for cheap tier
GEMINI_KEY_CHEAP=your_gemini_api_key_for_cheap_tier_here

# PREMIUM tier API key (for high-quality requests)
# TODO: Add your Gemini API key for premium tier
GEMINI_KEY_PREMIUM=your_gemini_api_key_for_premium_tier_here

# --------------------------------------------
# GEMINI MODEL CONFIGURATION
# --------------------------------------------
# Model names to use for each tier
# Recommended: gemini-1.5-flash for cheap, gemini-1.5-pro for premium
GEMINI_MODEL_CHEAP=gemini-1.5-flash
GEMINI_MODEL_PREMIUM=gemini-1.5-pro

# --------------------------------------------
# ADMIN AUTHENTICATION
# --------------------------------------------
# Admin token for accessing admin endpoints
# TODO: Generate a secure random token (e.g., using: openssl rand -hex 32)
ADMIN_TOKEN=supersecret_admin_token_change_this

# --------------------------------------------
# USER AUTHENTICATION
# --------------------------------------------
# NOTE: User authentication tokens are now stored in the database!
# The system automatically creates 3 demo users on first startup:
#   - userA: token = usr_demo_token_userA_replace_in_production
#   - userB: token = usr_demo_token_userB_replace_in_production
#   - userC: token = usr_demo_token_userC_replace_in_production
#
# Admins can create new users via the admin dashboard or API.
# New users get auto-generated secure tokens (format: usr_<64-char-hex>)

# --------------------------------------------
# THRESHOLD CONFIGURATION
# --------------------------------------------
# Percentage thresholds for usage warnings
# When usage reaches SOFT_WARN_PCT, status becomes "warning"
# When usage reaches SOFT_CRIT_PCT, status becomes "critical"
SOFT_WARN_PCT=80
SOFT_CRIT_PCT=95

# --------------------------------------------
# AUTO-ROUTING CONFIGURATION
# --------------------------------------------
# Auto-routing decides between cheap/premium when tier="auto"

# If prompt has more characters than this, route to premium
AUTO_PREMIUM_IF_CHARS_OVER=500

# Keywords that trigger premium routing (comma-separated, case-insensitive)
# If any of these words appear in the user messages, route to premium
AUTO_PREMIUM_KEYWORDS=analyze,complex,detailed,comprehensive,advanced,research,technical,professional

# If premium tier fails (429/5xx), fallback to cheap tier (if allowed)
FALLBACK_TO_CHEAP_ON_PREMIUM_ERROR=true
